:root {
    --bg: #fff8fb;
    --card: #ffffff;
    --ink: #2d2a32;
    --muted: #6b6672;
    --primary: #ff6fb0;
    --primary-600: #f2589f;
    --accent: #7bdff2;
    --success: #7bd389;
    --danger: #ff7a7a;
    --bone: #ffd9a0;
    --ring: rgba(0,0,0,.06);
    --shadow: 0 8px 24px rgba(0,0,0,.08);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
    margin: 0;
    font-family: 'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: var(--bg);
    color: var(--ink);
    line-height: 1.6;
}

.container { width: min(1100px, 92%); margin: 0 auto; }
.muted { color: var(--muted); }
.small { font-size: .9rem; }

.site-header {
    position: sticky; top: 0; z-index: 50;
    background: rgba(255,255,255,.7);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--ring);
}
.header-inner { display: flex; align-items: center; justify-content: space-between; padding: .8rem 0; }
.brand { display: flex; align-items: center; gap: .6rem; }
.brand-logo { width: 36px; height: 36px; display: grid; place-items: center; background: var(--accent); border-radius: 10px; box-shadow: var(--shadow); }
.brand-title { margin: 0; font-weight: 800; letter-spacing: .3px; }

.btn { cursor: pointer; border: 0; border-radius: 999px; padding: .7rem 1.1rem; font-weight: 700; transition: transform .06s ease, background .2s ease; }
.btn:hover { transform: translateY(-1px); }
.btn:active { transform: translateY(0); }
.btn-primary { background: var(--primary); color: white; }
.btn-primary:hover { background: var(--primary-600); }
.btn-outline { background: white; color: var(--ink); border: 1px solid var(--ring); }
.btn-success { background: var(--success); color: #063; }
.btn-danger { background: var(--danger); color: white; }
.btn-sm { padding: .4rem .8rem; font-size: .85rem; }
.icon-btn { background: transparent; border: 0; font-size: 1.1rem; cursor: pointer; color: var(--muted); }

/* File upload styles */
.file-upload-info {
    margin-top: .5rem;
    padding: .5rem;
    background: rgba(0,0,0,.02);
    border-radius: 6px;
    border: 1px dashed var(--ring);
}

.file-upload-info small {
    display: block;
    margin-bottom: .3rem;
    color: var(--muted);
    font-weight: 600;
}

.image-preview {
    margin-top: .8rem;
    padding: .8rem;
    background: rgba(0,0,0,.02);
    border-radius: 8px;
    border: 1px solid var(--ring);
    display: flex;
    align-items: center;
    gap: .8rem;
}

.image-preview img {
    border: 1px solid var(--ring);
}

.preview-actions {
    display: flex;
    gap: .5rem;
    margin-left: auto;
}

/* Image Editor Modal */
.modal-large {
    max-width: 90vw;
    max-height: 90vh;
}

.image-editor-container {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 1.5rem;
    height: 60vh;
}

.image-viewer {
    position: relative;
    background: #f8f9fa;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid var(--ring);
}

.image-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

#editableImage {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: none;
    max-height: none;
    transition: transform 0.1s ease;
    user-select: none;
}


.image-controls {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1rem;
    background: rgba(0,0,0,.02);
    border-radius: 8px;
    border: 1px solid var(--ring);
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: .5rem;
}

.control-group label {
    font-weight: 600;
    color: var(--ink);
    font-size: .9rem;
}

.preset-buttons,
.quick-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: .5rem;
}

.preset-buttons button,
.quick-buttons button {
    padding: .6rem .8rem;
    font-size: .85rem;
    font-weight: 600;
}

.preview-thumbnail {
    width: 120px;
    height: 120px;
    border: 2px solid var(--ring);
    border-radius: 8px;
    overflow: hidden;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
}

#thumbnailPreview {
    max-width: 100%;
    max-height: 100%;
    object-fit: cover;
}

.hero { position: relative; min-height: 62vh; display: grid; }
.hero-media { position: absolute; inset: 0; overflow: hidden; }
.hero-video { width: 100%; height: 100%; object-fit: cover; filter: saturate(1.1) contrast(1.02) brightness(.9); }
.hero-overlay { position: relative; z-index: 2; padding: 4rem 0; display: grid; gap: 1rem; align-content: center; }
.hero-overlay .hero-title { margin: 0; font-size: clamp(1.3rem, 3.2vw, 2.1rem); background: linear-gradient(90deg, var(--primary), var(--accent)); -webkit-background-clip: text; background-clip: text; color: transparent; }
.hero-overlay .hero-subtitle { max-width: 60ch; margin: 0 0 .5rem; color: #2d2a32; text-shadow: 0 2px 14px rgba(255,255,255,.7); }
.hero::after { content: ""; position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(255,255,255,.0), rgba(255,248,251,.88) 60%, var(--bg)); }

.section { padding: 2.4rem 0 1rem; }
.section-head { display: grid; gap: .2rem; margin-bottom: 1rem; }

.owner-toolbar { background: #fff; border: 1px solid var(--ring); border-radius: 14px; padding: 1rem; box-shadow: var(--shadow); margin-bottom: 1rem; }
.add-dog-form label span { display: block; font-weight: 700; font-size: .9rem; margin-bottom: .25rem; }
.add-dog-form input, .add-dog-form textarea { width: 100%; border: 1px solid var(--ring); border-radius: 10px; padding: .6rem .7rem; font: inherit; background: #fff; }
.add-dog-form .form-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: .8rem; }
.add-dog-form label.wide { grid-column: 1/-1; }
.ratings { border: 1px dashed var(--ring); border-radius: 10px; padding: .6rem .8rem; margin: .8rem 0; }
.ratings-grid { display: grid; grid-template-columns: repeat(5, minmax(120px, 1fr)); gap: .6rem; }
.toolbar-actions { display: flex; gap: .6rem; flex-wrap: wrap; }

.grid { display: grid; grid-template-columns: repeat( auto-fill, minmax(240px, 1fr) ); gap: 1rem; }
.card { position: relative; background: var(--card); border-radius: 16px; overflow: hidden; box-shadow: var(--shadow); border: 1px solid var(--ring); display: grid; grid-template-rows: auto 1fr auto; }
.card-media { aspect-ratio: 4 / 3; width: 100%; object-fit: cover; }
/* Visual treatment when an image falls back */
.image-error { background: #f2f3f5; object-fit: contain !important; }
.card-media-wrap { position: relative; }
.attr-strip { display: grid; gap: .3rem; background: #fff; border-top: 1px solid var(--ring); padding: .5rem .6rem; }
.attr-strip .attr { grid-template-columns: auto 1fr; gap: .6rem; }
.attr-strip .attr-name { min-width: 110px; }
.card-body { padding: .8rem; display: grid; gap: .3rem; }
.card-title { margin: 0; font-size: 1.05rem; font-weight: 800; }
.card-sub { margin: 0; color: var(--muted); font-size: .9rem; }
.card-actions { display: flex; justify-content: space-between; align-items: center; gap: .5rem; padding: .8rem; border-top: 1px solid var(--ring); }

/* Hover/Tap attribute overlay */
.card-overlay { position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,.0) 10%, rgba(0,0,0,.65)); color: white; display: grid; align-content: end; padding: .8rem; opacity: 0; transition: opacity .2s ease; }
.card:hover .card-overlay, .card.show-overlay .card-overlay { opacity: 1; }
.overlay-title { margin: 0 0 .4rem; font-weight: 800; }
.overlay-desc { margin: 0 0 .6rem; font-size: .95rem; }
.attrs { display: grid; gap: .4rem; }
.attr { display: grid; grid-template-columns: 1fr auto; gap: .4rem; align-items: center; }
.attr-name { font-weight: 700; font-size: .95rem; }
.bones { display: inline-grid; grid-auto-flow: column; gap: .2rem; }
.bone { width: 18px; height: 18px; display: inline-block; background: var(--bone); border: 1px solid rgba(0,0,0,.12); border-radius: 6px; box-shadow: inset 0 2px 0 rgba(255,255,255,.6), inset 0 -2px 0 rgba(0,0,0,.06); }
.bone.off { opacity: .35; filter: grayscale(.4); }

/* Modal */
.modal { border: 0; border-radius: 16px; padding: 0; width: min(560px, 92%); }
.modal::backdrop { background: rgba(0,0,0,.42); }
.modal-card { display: grid; grid-template-rows: auto 1fr auto; }
.modal-header { display: flex; align-items: center; justify-content: space-between; padding: .9rem 1rem; border-bottom: 1px solid var(--ring); }
.modal-body { padding: 1rem; }
.modal-footer { display: flex; justify-content: end; gap: .6rem; padding: .9rem 1rem; border-top: 1px solid var(--ring); }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: .8rem; }
.form-grid label.wide { grid-column: 1/-1; }
.form-grid input, .form-grid textarea { width: 100%; border: 1px solid var(--ring); border-radius: 10px; padding: .6rem .7rem; font: inherit; background: #fff; }

/* Dog detail modal */
.modal-detail { width: min(880px, 96%); }
.dog-detail-body { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.detail-media { width: 100%; border-radius: 12px; aspect-ratio: 4/3; object-fit: cover; }
.image-error.detail-media { object-fit: contain !important; background: #f2f3f5; }
.detail-info { display: grid; gap: .4rem; align-content: start; }

/* Contact */
.contact { background: linear-gradient(180deg, var(--bg), #fff); padding: 2.4rem 0 3rem; margin-top: 1rem; border-top: 1px solid var(--ring); }
.contact-inner { display: grid; gap: .4rem; }
.contact-list { list-style: none; padding: 0; margin: .6rem 0 0; display: grid; gap: .3rem; }
.contact a { color: var(--primary-600); text-decoration: none; }

.site-footer { background: #fff; border-top: 1px solid var(--ring); }
.footer-inner { padding: 1rem 0; text-align: center; }

/* Responsive */
@media (max-width: 820px) {
    .add-dog-form .form-row { grid-template-columns: 1fr; }
    .ratings-grid { grid-template-columns: repeat(2, 1fr); }
    .form-grid { grid-template-columns: 1fr; }
    .dog-detail-body { grid-template-columns: 1fr; }
}


